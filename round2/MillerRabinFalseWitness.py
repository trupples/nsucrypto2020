from fractions import gcd

w = [8911, 1024651, 1152271, 5481451, 10267951, 14913991, 64377991, 67902031, 139952671, 178482151, 368113411, 395044651, 612816751, 652969351, 743404663, 1588247851, 2000436751, 2199931651, 2560600351, 3215031751, 5871134179, 5883081751, 6641148691, 7121196811, 7685860051, 8346731851, 8657319259, 8863329511, 9462932431, 13946829751, 16157879263, 18500666251, 21046047751, 23712550891, 24151953871, 25477682491, 26455818439, 34558584607, 37870128451, 39799655911, 43078736611, 43234580143, 46493311411, 48354810571, 48874811311, 51436355851, 53799052231, 67643385391, 68926289491, 83828294551, 109261809847, 121254376891, 144377609419, 147523256371, 152454816487, 158194152751, 176962430851, 187054437571, 225593397919, 231440115271, 235081952731, 244344782251, 245291853691, 286590125251, 306252926071, 311765658151, 359316634951, 445860275851, 494442433171, 660950414671, 716726903707, 716851649251, 747734199031, 846891632791, 869860846999, 906414656491, 953926228291, 961809124231, 970964998051, 1038196480231, 1058137135831, 1079942171239, 1101375141511, 1107329455051, 1183237214251, 1217439473251, 1254739472911, 1297472175451, 1308014272027, 1409873531851, 1436184483031, 1447175655451, 1462432372831, 1487491483171, 1640813492611, 1664826173011, 1945835141251, 2022188518351, 2061143303311, 2067065923651, 2106584084791, 2152302898747, 2283475947391, 2669187036751, 2697891108151, 2752403727511, 3147890846431, 3284486673199, 3309357078271, 3316603988251, 3465251134171, 3474749660383, 3678532823071, 4072376885851, 4149663015151, 4443982738651, 4505432894299, 4525783922251, 4638902368591, 4877282960551, 4892221274851, 4963134761131, 5090292043651, 5345675062051, 5382262315711, 5385162680767, 5588215337251, 5691713631211, 5716161256291, 5738531745871, 5811733744867, 6018294501451, 6111751219939, 6119455102027, 6194634178591, 6591169015831, 6853133810251, 6908231508751, 6930207058111, 7280726433751, 7507903975951, 7689096933451, 7873995921247, 7991029901359, 8105109541171, 8234815987711, 8255559831751, 8649193274551, 9135990762331, 9255750663979, 9596832605851, 9680523863011, 9813659703751, 10546629279551, 10702227556351, 10710604680091, 11271321799651, 11967808842991, 11997415267111, 12212928704299, 12276216154567, 13757013540271, 14705418968299, 15070413782971, 15314068130791, 15330150730399, 15389553515311, 15876772311511, 16195254203899, 16361677280191, 16382715183451, 17589341690251, 17784685859851, 17952343935751, 17975920348387, 18231704231599, 18667293887551, 18680212155151, 18890571899431, 19177682527151, 19288340548471, 19573172932171, 19666547563951, 19709991455311, 19794508977127, 20417651396911, 21240841602751, 21935314415323, 22000342757251, 22121038275211, 22139875582819, 22799069430611, 22807009172767, 23570421789223, 24287018177971, 25120837778251, 25174972211611, 25795926239791, 26725287881251, 28196961196951, 28433840093443, 29325910221631, 30996819609211, 31545388196191, 31906468044991, 31910943589771, 32967483343939, 33422278670551, 34477679139751, 35499508404751, 37371065373211, 37753700078431, 37819475797951, 38506885504687, 39663997139251, 41186481220039, 41923392711751, 43438471758571, 44397908452171, 44503172540971, 44599318478251, 45205022555551, 46073906150851, 46342628597851, 48356547048811, 48430772527831, 49336662504403, 50778888489631, 50928061685551, 52305745012067, 54165858332251, 54894019180771, 55094393173447, 55789875083251, 56178655921207, 56282672412919, 59952642428911, 60147134329591, 60679922126671, 62529366058699, 63889768605703, 64278632045431, 65158568379451, 67227683250883, 67230098982811, 68676437370283, 69338399320639, 69460107593311, 70705290559051, 70943964789751, 71665772465071, 71911523404267, 72499969197811, 73312831284211, 73484106472351, 75836928517351, 76259732375611, 76360154753431, 78060655226431, 81353348106031, 81719303021371, 81858411422131, 81923054890051, 82932179259511, 83643006062071, 86121503734267, 86513218853251, 90022554326251, 90249794837203, 93679690051351, 96464987884231, 100132942851943, 101187645119947, 106319864340559, 106865332365331, 106962142281751, 108684070489807, 109528571391391, 112823965605331, 118069613866751, 118692283963051, 119047484987551, 121713688874251, 122584803003391, 124711042468951, 124859972446903, 126249206584411, 127187179602211, 130312053704071, 130412646654391, 131283763615903, 131314855918751, 133345495184731, 133389819894451, 133654655083951, 134456081663611, 135569332772371, 136234876767991, 136464013562311, 138634113685651, 141952434183067, 155573002202311, 155698476305611, 156076597108147, 156575914918039, 157749075073591, 159354681573583, 161666179955011, 161908590151351, 161960118346027, 162153238845151, 163813665895111, 169640801337151, 174142518569839, 174365320225699, 176532453985231, 178147247320351, 180207636833071, 181587209910751, 181982438465851, 182836021342951, 183781743902023, 184098345785047, 186943489269571, 188174014601371, 194381646372811, 195474556070371, 196225740177391, 196250767728511, 199453917179791, 199680663356263, 200659786897351, 203939480646091, 204013516382911, 208980544227859, 210028453302331, 212237768906551, 212558837005351, 214095808240903, 225053535639791, 226369067823991, 229737846083131, 244068339049291, 251025973655311, 251215146358471, 257322414362551, 261516635575651, 263286569396971, 269848495082431, 271706486418091, 272115758457271, 276362171781571, 276959986009939, 277688427695911, 279467202728071, 284556555782731]


def is_witness_orig(p2, d, a, n):
    x = pow(a, d, n)
    if x == 1: return False
    for i in range(p2):
        if (x+1)%n == 0: return False
        x = x * x % n
    return True

def is_witness_ext(p2, p3, d, a, n):
    x = pow(a, d, n)
    if x == 1: return False
    for i in range(p3):
        y = pow(x, 2, n)
        if (x + y + 1) % n == 0:
            return False
        x = x * y % n
    for i in range(p2):
        if x == n-1: return False
        x = x * x % n
    return True

def fact_n_1(n):
    p2 = 0
    p3 = 0
    x = n-1
    while x % 2 == 0:
        x //=2
        p2+=1
    while x%3 == 0:
        x //=3
        p3+=1
    
    return (p2, p3, x)

def count_bad_witnesses(n):
    p2, p3, d = fact_n_1(n)
    cnt_ext = 0
    cnt_org = 0
    total = 0
    for a in range(2, n):
        if(a % 5000000 == 0):
            return cnt_ext, cnt_org, total
        if(gcd(a, n) != 1):
            continue
        total+=1
        if not is_witness_ext(p2, p3, d, a, n):
            cnt_ext += 1
        if not is_witness_orig(p2, d * 3**p3, a, n):
            cnt_org += 1

    return (cnt_ext, cnt_org, total)

for i in w:
    ce, co, t = count_bad_witnesses(i)
    if ce == i-2 and co == i-2: continue
    print("i:", i, "total:", t, "ext:", ce, "orig:", co, 100 * ce/t, 100 * co/t)
